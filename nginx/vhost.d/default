location /api {
    proxy_pass http://web:8000/api;

    limit_req zone=api_rate_limit burst=20 nodelay;
    add_header RateLimit-Limit 20;
    add_header RateLimit-Policy "q=20;w=1";
    limit_req_status 429;
}

location /admin/login {
    proxy_pass http://web:8000/admin/login;

    limit_req zone=admin_login_rate_limit nodelay;
    add_header RateLimit-Limit 1;
    add_header RateLimit-Policy "q=1;w=1";
    limit_req_status 429;
}